# 产品说明与扩展建议

## 产品定位

桌面日历是一个轻量级 Windows 桌面悬浮窗工具，提供日历视图、每日打卡、工作事项管理和闹钟提醒功能。设计原则为"简洁、克制、实用"，采用 Windows Fluent Design 视觉风格。

## 核心功能

### 1. Daily Event（每日打卡）

- 用户创建的打卡项每天自动出现
- 当天勾选完成后从列表中隐藏，次日自动重新出现
- 连续打卡天数实时计算，中断后清零重新开始
- "累计"页面展示长期统计数据

### 2. Work Event（工作事项）

- 含起止日期的事项，在日历网格上以彩色横线标示
- 跨周自动断行继续显示
- 不同事项自动分配不同颜色
- 支持创建、编辑、删除，点击日历横线或列表项查看详情

### 3. 闹钟

- 倒计时模式：设定分钟数后开始倒计时
- 定时提醒模式：设定具体时间点
- 到点通过 Windows 桌面通知 + 可选提示音提醒
- 闹钟列表展示状态，支持取消未触发的闹钟

## 技术架构

严格分层：UI / Services / Domain / Infra，UI 不含业务逻辑。

详见 README.md 中的目录结构说明。

## 后续扩展建议

### 短期

1. **暗色主题** — 在 `styles.py` 添加 dark mode QSS，通过 config 切换
2. **拖放排序** — Daily Event 列表支持拖放调整顺序
3. **导入/导出** — JSON 格式的数据导入导出
4. **自定义颜色** — Work Event 支持用户手动选择颜色

### 中期

5. **第三方日历同步** — 支持 .ics 格式导入
6. **番茄钟模式** — 闹钟页增加 25/5 番茄钟循环
7. **统计图表** — 用 QPainter 绘制打卡热力图
8. **多语言** — 抽取字符串资源，支持中/英切换

### 长期

9. **云同步** — 通过 WebDAV 或自建 API 同步数据
10. **插件系统** — 允许第三方扩展面板和功能
11. **周视图/日视图** — 日历支持多种视图切换

## 设计约束

- 不引入 Electron 或 Web 技术栈
- 不在 UI 回调中编写业务逻辑
- 所有日期计算基于本机本地时间
- 数据库 schema 变更通过版本号迁移
